<!doctype html>
<head>
<meta charset="utf-8">
<title>오늘의 좋은 말 - 블로그</title>
<meta name="description" content="오늘의 좋은 말을 이야기 하는 블로그입니다. 댓글을 작성해봅시다.">
<meta name="viewport" content="width=device-width">
</head>

<body>
<h1>오늘의 좋은 말 - baas.io </h1>
<h2>able</h2>
<p>가능하다는 생각만으로도 기분이 좋아집니다. 이 부분은 블로그 본문입니다. 아래 댓글 목록이 표시됩니다. 더 보기, 삭제 없이 단순히 최신 댓글 몇개를 가져옵니다.</p>
<h3>댓글 작성</h3>

<form id="postComment">
  Comment : <input type="text" id="comment"> <br/>
  Name : <input type="text" id="name"> <br/>
  PW : <input type="password" id="simplepw"> <br/>
  <input type="button" id="btnSaveObject" value="save">
</form>

<button id="list">list</button>
</body>

<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="js/baas.io.min.js"></script>
<script>
var io;
var options;

io = new Baas.IO({
    'URI':'https://api.baas.io',
    'orgName':'imyaman', 
    'appName':'b-log',
});

$("#btnSaveObject").click(function() {
        var comment = $('#comment').val();
        var name = $('#name').val();
        var pw = $('#simplepw').val();

        options = {
            'method':'POST',
            'client':io,
            'endpoint':'comments',
            'body':{"comment":comment,"writer":name}
        };

        io.request(options, function (err, data) {
            if(!err){
                alertSuccess();
            }else{
                alertError();
                console.log(err.toString());
            }
        });

});

function alertSuccess(data){
  alert('Saved');
}

function alertError(data){
  alert('Not saved');
}

$('#list').click(function(){
    window.location.href='index2.html';
});
         
</script>
</html>
