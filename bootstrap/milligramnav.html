<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<title>오늘의 좋은 말 - 블로그</title>
<meta name="description" content="오늘의 좋은 말을 이야기 하는 블로그입니다. 댓글을 작성해봅시다.">
<meta name="viewport" content="width=device-width">
<link rel="stylesheet" href="https://milligram.github.io/css/milligram.min.css">
<style>
@import url(http://fonts.googleapis.com/earlyaccess/notosanskr.css);
:lang(ko) { font-family: 'Noto Sans KR', sans-serif; } 
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.css">
<link rel="stylesheet" href="http://milligram.github.io/css/style.css">
</head>

<body>

<main class="wrapper">

<nav class="navigation">
<section class="container">

<a class="navigation-title" href="https://milligram.github.io/">
<img class="img" src="https://milligram.github.io/img/logo.svg" height="30" alt="Milligram" title="Milligram">
<h1 class="title">Milligram</h1>
</a>

<ul class="navigation-list float-right">
<li class="navigation-item">
<a class="navigation-link" href="#popover-grid" data-popover>Docs</a>
<div class="popover" id="popover-grid">
<ul class="popover-list">
<li class="popover-item"><a class="popover-link" href="https://milligram.github.io/#getting-started" title="Getting Started">Getting Started</a></li>
<li class="popover-item"><a class="popover-link" href="https://milligram.github.io/#typography" title="Typography">Typography</a></li>
<li class="popover-item"><a class="popover-link" href="https://milligram.github.io/#blockquotes" title="Blockquotes">Blockquotes</a></li>
<li class="popover-item"><a class="popover-link" href="https://milligram.github.io/#buttons" title="Buttons">Buttons</a></li>
<li class="popover-item"><a class="popover-link" href="https://milligram.github.io/#lists" title="Lists">Lists</a></li>
<li class="popover-item"><a class="popover-link" href="https://milligram.github.io/#forms" title="Forms">Forms</a></li>
<li class="popover-item"><a class="popover-link" href="https://milligram.github.io/#tables" title="Tables">Tables</a></li>
<li class="popover-item"><a class="popover-link" href="https://milligram.github.io/#grids" title="Grids">Grids</a></li>
<li class="popover-item"><a class="popover-link" href="https://milligram.github.io/#codes" title="Codes">Codes</a></li>
<li class="popover-item"><a class="popover-link" href="https://milligram.github.io/#utilities" title="Utilities">Utilities</a></li>
<li class="popover-item"><a class="popover-link" href="https://milligram.github.io/#tips" title="Tips">Tips</a></li>
<li class="popover-item"><a class="popover-link" href="https://milligram.github.io/#browser-support" title="Browser Support">Browser Support</a></li>
<li class="popover-item"><a class="popover-link" href="https://milligram.github.io/#examples" title="Examples">Examples</a></li>
<li class="popover-item"><a class="popover-link" href="https://milligram.github.io/#contributing" title="Contributing">Contributing</a></li>
</ul>
</div>
</li>
<li class="navigation-item">
<a class="navigation-link" href="#popover-support" data-popover>Support</a>
<div class="popover" id="popover-support">
<ul class="popover-list">
<li class="popover-item"><a class="popover-link" target="blank" href="https://github.com/milligram/milligram" title="On Github">On Github</a></li>
<li class="popover-item"><a class="popover-link" target="blank" href="https://github.com/milligram/milligram/issues/new" title="Need help?">Need help?</a></li>
<li class="popover-item"><a class="popover-link" target="blank" href="https://github.com/milligram/milligram#license" title="License">License</a></li>
<li class="popover-item"><a class="popover-link" target="blank" href="https://github.com/milligram/milligram/releases" title="Versions">Versions</a></li>
</ul>
</div>
</li>
</ul>
<a class="hidden-xs github-corner" href="https://github.com/milligram/milligram" title="Milligram on Github" target="blank">
<svg width="80" height="80" viewBox="0 0 250 250" class="github-corner">
<path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
<path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
<path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
</svg>
</a>
</section>
</nav> <!-- end of nav -->

<header class="header" id="home">
<section class="container">
<img class="img" src="https://milligram.github.io/img/logo.svg" alt="Milligram" title="Milligram">
<h1 class="title">Milligram</h1>
<p class="description">A minimalist CSS framework</p>
<a class="button" href="#getting-started">Getting Started</a>
<script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&amp;serve=C6AILKT&amp;placement=milligramgithubio" id="_carbonads_js"></script>
</section>
</header>

<section class="container" id="why">

<table id="commentsTable">
  <thead><tr>  <th>comment</th> <th>name</th> <th>date</th> <th>option</th> </tr></thead>
  <tbody></tbody>
</table>

<button id='more'>more</button> <br />
<button id='write'>write</button>

</section>

<footer class="footer">
<section class="container">
<p>Designed with ♥ by <a target="blank" href="http://cjpatoilo.com" title="CJ Patoilo">CJ Patoilo</a>. Licensed under the <a target="blank" href="https://github.com/milligram/milligram#license" title="MIT License">MIT License</a>.</p>
</section>
</footer>

</main>



<!--                end of content                -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/run_prettify.js"></script>
<script src="//code.jquery.com/jquery-2.2.3.min.js"></script>
<!-- www.parsecdn.com/js/parse-1.6.14.min.js" -->
<script src="//www.parsecdn.com/js/parse-latest.min.js"></script>
<script>
var pgCount=5;
var currentPage=0;

function getParameterByName(name) {
  name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
  var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
      results = regex.exec(location.search);
  return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
}

$(document).ready(function() {
    Parse.initialize('cdzz7YuYMPaopERtDOd15bUvv7oSaFtJYkCNZjIg', 'cPEU1ggQqkfL1Uh2fPekOWsmrCs7xc39H6RKZRpr');
    Parse.serverURL = 'http://jts.youre.space:1337/parse'
    getCommentsList();
});

$('#more').click(function(){
    getCommentsList();
});

$('#write').click(function(){
    window.location.href = 'write.html';
});

function getCommentsList(){
    var query = new Parse.Query('Comments');
    query.skip(pgCount*currentPage);
    query.limit(pgCount);
    query.descending("createdAt");
    query.find({
        success: drawCommentsTable,
        error: drawCommentsError
    });
    currentPage++;
}

function drawCommentsTable(results){
    $.each(results, function(index, value){
        drawRow(value);
    });
}

function drawCommentsTable(results){
    $.each(results, function(index, value){
        drawRow(value);
    });
}
function drawRow(rowData) {
    var d = new Date(rowData.createdAt);
    var mytime = d.toLocaleString();

    var row = $("<tr />");
    $("#commentsTable").append(row); 
    row.append($("<td>" + rowData.get('comment') + "</td>"));
    row.append($("<td>" + rowData.get('name') + "</td>"));
    row.append($("<td>" + mytime + "</td>"));
}

function drawCommentsError(data){
    var row = $("<tr />");
    $("#commentsTable").append(row); 
    row.append($("<td>-</td>"));
    row.append($("<td>-</td>"));
    row.append($("<td>-</td>"));
}

function deleteComment(cid){
    var Comment = Baas.Object.extend('Comments');
    var row = new Comment;
    row.set('objectId', cid);
    row.destroy({
        success: function(){
            $('#t'+cid).remove(); 
        },
        error: function(){
        } 
    });
}
</script>

</body>
</html>
